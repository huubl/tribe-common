(()=>{var e=e||{};!function(n){var t=!1,o="",r="",a=!1,i=n("#tribe-log-controls"),l=i.find("select"),d=i.find(".working"),c=n("#tribe-log-viewer"),g=n("a.download_log");function s(e){u(),Array.isArray(e.data.entries)&&(c.html(function(e){var n="<table>";for(var t in e){for(var o in n+="<tr>",e[t])n+="<td>"+e[t][o]+"</td>";n+="</tr>"}return n+"</table>"}(e.data.entries)),f())}function f(){if(!(1>g.length)){var e=g.attr("href"),n=encodeURI(w()),t=e.match(/&log=([a-z0-9\-]+)/i);e=Array.isArray(t)&&2===t.length?e.replace(t[0],"&log="+n):e.indexOf("?")?e+"&log="+n:e+"?log="+n,g.attr("href",e)}}function m(){u()}function u(){t=!1,l.prop("disabled",!1),d.addClass("hidden")}function w(){return n("#log-selector").find(":selected").attr("name")}function h(){return n("#log-engine").find(":selected").attr("name")}o=w(),r=h(),f(),l.on("change",(function(){var i,c,g;t||(i=w(),c=h(),i!==o||c!==r?(a=!0,o=i,r=c):a=!1,t=!0,l.prop("disabled",!0),d.removeClass("hidden"),g={action:"tribe_logging_controls",check:e.check,"log-level":n("#log-level").find(":selected").attr("name"),"log-engine":n("#log-engine").find(":selected").attr("name")},a&&(g["log-view"]=o),n.ajax(ajaxurl,{method:"POST",success:s,error:m,dataType:"json",data:g}))}))}(jQuery),window.tec=window.tec||{},window.tec.common=window.tec.common||{},window.tec.common.adminLogControls={}})();